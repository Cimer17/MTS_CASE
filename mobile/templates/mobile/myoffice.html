{% extends 'mobile/temple.html' %}

{% block content %}
<style>
    .baner {
        text-align: center;
        padding-top: 10px;
    }

    .columns {
        margin: 10px 0;
        display: flex;
        justify-content: center;
    }
</style>
{% load static %}

<div class="baner">
    <img src="{% static 'office/big_baner.png' %}">
</div>
<div class="columns">
    <div class="right_col">
        <div class="eat">
            <img src="{% static 'office/eat.png' %}">
        </div>
        <div class="bot">
            <a href='https://t.me/mtsbot_hackton_bot'><img src="{% static 'office/bot.png' %}"></a>
        </div>
    </div>
    <div class="left_col">
        <div class="dls">
            <img src="{% static 'office/dops.png' %}">
        </div>
        <div class="light">
            <p>Освещение</p>
            <div class="tools_light">
                <label id="switch_red" class="switch_red">
                    <form method="post" id="lamp-toggle-form">
                        {% csrf_token %}
                        <input type="checkbox" id="slider_red" onchange="toggleLamp()">
                        <span class="slider_red round"></span>
                    </form>
                </label>
            </div>
        </div>
        <script>
            function toggleLamp() {
                var form = document.getElementById("lamp-toggle-form");
                var isChecked = form.querySelector("#slider_red").checked;
                fetch("/toggle_lamp/", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "X-CSRFToken": "{{ csrf_token }}",
                    },
                    body: JSON.stringify({ isChecked: isChecked }),
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log(data.message);
                    });
            }
        </script>
    </div>
</div>
<script>
    function toggle_humidifier() {
        var form = document.getElementById("humidifier-toggle-form");
        var isChecked = form.querySelector("#slider_red_tempa").checked;
        fetch("/toggle_humidifier/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": "{{ csrf_token }}",
            },
            body: JSON.stringify({ isChecked: isChecked }),
        })
            .then(response => response.json())
            .then(data => {
                console.log(data.message);
            });
    }
</script>
<div class="tools_komfort">
    <div class="klimat">
        <div>
            <div class="image_contol">
                <img class="img_contol" src="{% static 'imageMts/градусник.svg' %}">
            </div>
            <p style="margin: 0;">Климат</p>
        </div>
        <label id="switch_red" class="switch_red">
            <form method="post" id="humidifier-toggle-form">
                {% csrf_token %}
                <input type="checkbox" id="slider_red_tempa" onchange="toggle_humidifier()">
                <span class="slider_red round"></span>
            </form>
        </label>
    </div>
    <div class="klimat_contol">
        <label id="switch_yellow" class="switch_yellow">
            <input type="checkbox" id="slider_yellow">
            <span class="slider_yellow round"></span>
        </label>
    </div>
</div>
{% endblock %}